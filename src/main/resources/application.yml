server:
  forward-headers-strategy: framework  # enable x-forwarding
  port: 8088
spring:
  application:
    name: gateway-service
  cloud:
    consul:
      discovery:
        register: false
        register-health-check: false
      config:
        enabled: false
    gateway:
      discovery:
        locator:
          enabled: true # must be false for x-forwarded to work
      forwarded:
        enabled: true # enable x-forwarding for spring-apidocs
      routes:
        - id: registration
          uri: lb://authentication
          predicates:
           - Path=/sign-up
          filters:
            - RewritePath=/sign-up, /register
        - id: authentication
          uri: lb://authentication
          predicates:
            - Path=/login
          filters:
            - RewritePath=/login, /authenticate

#          filters:
#            - RewritePath=/auth/(?<path>.*), /$\{path}
#            - TokenRelay=
